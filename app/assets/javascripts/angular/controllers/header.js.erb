app.controller('HeaderCtrl', ['$scope', '$auth', '$location', '$rootScope', function($scope, $auth, $location, $rootScope){

  $rootScope.$on('auth:registration-email-success', function(ev, message) {
    $scope.validateUser();
  });

  $scope.validateUser = function () {
    $auth.validateUser().then(function (resp) {
      console.log(resp);
      $scope.user = resp;
    }).catch(function (resp) {
      console.log(resp);
    });
  }

  // validate user on load
  $scope.validateUser()

  // log user out
  $scope.logout = function () {
    $auth.signOut().then(function(resp) {
      console.log(resp);
      $location.path('/')
    }).catch(function(resp) {
      console.log(resp);
    });
  };

  $scope.checkuser = function () {

  }

}]);
